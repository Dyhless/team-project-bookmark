{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-6ec93521866f0fa9.js","src/js/books-service.js","src/js/loader.js","src/js/book-card.js","node_modules/@parcel/runtime-js/lib/runtime-de26a14284f3b108.js","node_modules/@parcel/runtime-js/lib/runtime-9a840c2176f1c5d5.js","node_modules/@parcel/runtime-js/lib/runtime-e58f9a3a16ec3a3b.js","src/js/modal-window.js","node_modules/@parcel/runtime-js/lib/runtime-6080f64f1646b70c.js","node_modules/@parcel/runtime-js/lib/runtime-5b47295b3bdb27f5.js","node_modules/@parcel/runtime-js/lib/runtime-ba5079c6a4d7af80.js","src/js/category.js","src/js/scroll-up.js","src/js/header-fixed-position.js","src/js/burger.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.b781e841.js\\\",\\\"lGJMy\\\":\\\"plug-empte-book_335x485.3bc43583.png\\\",\\\"3HCpm\\\":\\\"plug-empte-book_218x316.adc93518.png\\\",\\\"6MBmZ\\\":\\\"plug-empte-book_180x256.b984b05b.png\\\",\\\"e31Gs\\\":\\\"amazon_62x19.626c9508.png\\\",\\\"8Rppq\\\":\\\"apple-book_33x32.9b2fbf78.png\\\",\\\"kZ2io\\\":\\\"book-shop_38x36.1d091ebd.png\\\",\\\"1XaNB\\\":\\\"index.225906ef.css\\\",\\\"a8cj2\\\":\\\"shopping-list.09a968a6.js\\\"}\"));","import axios from 'axios';\n\nexport class BooksService {\n  #BASE_URL = 'https://books-backend.p.goit.global/books/';\n\n  async fetchTopBooks() {\n    return await axios.get(`${this.#BASE_URL}/top-books`).catch(console.error);\n  }\n}\n","const loader = document.querySelector('.loader-backdrop');\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nexport { loader, hideLoader, showLoader };\n","import { BooksService } from './books-service';\nimport Notiflix from 'notiflix';\n\nimport { loader, showLoader, hideLoader } from './loader';\n\nconst booksService = new BooksService();\nconst listTopBooks = document.querySelector('.top-books');\n\nasync function renderBooksCategories() {\n  try {\n    const { data } = await booksService.fetchTopBooks();\n    return data;\n  } catch (error) {\n    console.log(error);\n    Notiflix.Notify.failure('Oops! Something went wrong... Please try again.');\n  }\n}\n\nfunction getFallbackImageUrl() {\n  const screenWidth = window.innerWidth;\n  if (screenWidth < 768) {\n    return new URL('../images/plug-empte-book_335x485.png', import.meta.url);\n  } else if (screenWidth < 1440) {\n    return new URL('../images/plug-empte-book_218x316.png', import.meta.url);\n  } else {\n    return new URL('../images/plug-empte-book_180x256.png', import.meta.url);\n  }\n}\n\nasync function updateBooksCategories() {\n  const categories = await renderBooksCategories();\n\n  let markup = '';\n\n  for (const { list_name, books } of categories) {\n    let categoryMarkup = `\n      <li>\n        <h3 class=\"name-category\">${list_name}</h3>\n        <ul class=\"list-category\">\n    `;\n\n    for (let j = 0; j < books.length; j += 1) {\n      const { _id, book_image, title, author } = books[j];\n\n      categoryMarkup += `\n        <li class=\"item-category-book js-book-modal\" data-book-id=\"${_id}\">\n          <a class=\"link-books\" href=\"#\">\n            <div class=\"card-book\">\n              <div class=\"img-card-book\">\n                <img src=\"${book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${_id}\" onerror=\"src='${getFallbackImageUrl()}'\"/>\n              </div>\n              <div class=\"bestsellers-text-wrapper\">\n                <div class=\"title-wrap\">\n                  <p class=\"title-book\">${title}</p>\n                </div>\n                <div class=\"author-wrap\">\n                  <p class=\"book-author\">${author}</p>\n                </div>\n              </div>\n            </div>\n          </a>\n        </li>\n      `;\n    }\n\n    categoryMarkup += `\n        </ul>\n        <button type=\"button\" aria-label=\"See more\" class=\"see-more\">See more</button>\n      </li>\n    `;\n\n    markup += categoryMarkup;\n  }\n\n  if (listTopBooks) {\n    listTopBooks.innerHTML = '';\n    listTopBooks.insertAdjacentHTML('beforeend', markup);\n    //     //======= Дашин код ==============\n    const seeMoreBtns = document.querySelectorAll('.see-more');\n    const categoriesForBtn = document.querySelectorAll('.bookcat');\n\n    for (let p = 0; p < categories.length; p++) {\n      seeMoreBtns[p].addEventListener('click', () => {\n        categoriesForBtn[p + 1].click();\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        });\n      });\n    }\n    //     //======= /Дашин код ==============\n  }\n  hideLoader();\n}\n\nupdateBooksCategories();\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lGJMy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3HCpm\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6MBmZ\")).toString();","\nimport Notiflix from \"notiflix\";\n\n(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-modal-open]'),\n    closeModalBtn: document.querySelector('[data-modal-close]'),\n    modal: document.querySelector('[data-modal]'),\n    cardModal: document.querySelector('.card-modal'),\n  };\n\n  // refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', closeModal);\n\n  let id = '';\n\n  let amazon_link = '';\n  let apple_link = '';\n  let bookshop_link = '';\n\n  refs.modal.addEventListener('click', logBackdropClick);\n  window.addEventListener('click', cardForModal);\n\n  function removeWindowEventListener() {\n    window.removeEventListener('click', cardForModal);\n  }\n\n  //   (e)=>{console.log(\"e====\",e.target);\n  // console.log(e.target.getAttribute(\"data-id\"));\n  // return id=(e.target.getAttribute(\"data-id\"));\n  // }\n\n  async function cardForModal(e) {\n    // проверка если попал на картинку\n\n    id = e.target.getAttribute('data-id');\n    if (id === null) {\n      return;\n    } else openModal();\n    console.log('это айди', id);\n    // обработка ошибки фетча?\n    const { book_image, description, author, title, buy_links } =\n      await fetchBookById(id);\n    getLinkToShop(buy_links);\n\n    bookData = {\n      _id: id,\n      book_image,\n      description,\n      author,\n      title,\n    };\n\n    const markup = `<img src=\"${book_image}\" alt=\"book\" class=\"card-img-modal\">\n<h5 class=\"title\">${title}</h5>\n<p class=\"author-card-modal\">${author}</p>\n<p class=\"text-card-modal\">${description}</p>\n<ul class=\"shops-modal\">\n<li class=\"li-modal\">\n<a href=\"${amazon_link}\" target=\"_blank\">\n<img class=\"amazon\" src=\"${new URL(\n      '../images/shops/amazon_62x19.png',\n      import.meta.url\n    )}\" alt=\"Amazon\"</a>\n</li>\n<li class=\"li-modal\">\n  <a href=\"${apple_link}\" target=\"_blank\">\n<img class=\"apple\" src=\"${new URL(\n      '../images/shops/apple-book_33x32.png',\n      import.meta.url\n    )}\" alt=\"Apple-book\"></a>\n</li>\n<li class=\"li-modal\">\n  <a href=\"${bookshop_link}\" target=\"_blank\">\n<img class=\"book-shop\" src=\"${new URL(\n      '../images/shops/book-shop_38x36.png',\n      import.meta.url\n    )}\" alt=\"Book-shop\"></a>\n</li>\n</ul>\n`;\n    console.log('markup', markup);\n\n    renderMarkupModal(markup);\n  }\n\n  function getLinkToShop(arr) {\n    arr.forEach(el => {\n      if (el.name === 'Amazon') {\n        amazon_link = el.url;\n      } else if (el.name === 'Apple Books') {\n        apple_link = el.url;\n      } else if (el.name === 'Bookshop') {\n        bookshop_link = el.url;\n      }\n    });\n  }\n\n  function renderMarkupModal(markup) {\n    refs.cardModal.innerHTML = markup;\n  }\n  // fetchBookById('643282b1e85766588626a0ba');\n\n  async function fetchBookById(id) {\n    const responce = await fetch(\n      `https://books-backend.p.goit.global/books/${id}`\n    );\n    const bookById = await responce.json();\n    console.log(bookById);\n    return bookById;\n  }\n\n  function openModal() {\n    //   const isModalOpen =\n    //     refs.openModalBtn.getAttribute('aria-expanded') === 'true' || false;\n    //   refs.openModalBtn.setAttribute('aria-expanded', !isModalOpen);\n    removeWindowEventListener();\n    document.body.classList.add('modal-open');\n    refs.modal.classList.remove('is-hidden-modal-book');\n    document.addEventListener('keydown', logBackdropClick);\n\n    //   const scrollLockMethod = !isModalOpen\n    //     ? 'disableBodyScroll'\n    //     : 'enableBodyScroll';\n    //   bodyScrollLock[scrollLockMethod](document.body);\n  }\n\n  function closeModal() {\n    document.body.classList.remove('modal-open');\n    refs.modal.classList.add('is-hidden-modal-book');\n    document.removeEventListener('keydown', logBackdropClick);\n    window.addEventListener('click', cardForModal);\n  }\n\n  function logBackdropClick(e) {\n    if (e.target.className === 'backdrop-modal-book' || e.code === 'Escape') {\n      refs.modal.classList.add('is-hidden-modal-book');\n      document.body.classList.remove('modal-open');\n      document.removeEventListener('keydown', logBackdropClick);\n      window.addEventListener('click', cardForModal);\n    } else return;\n  }\n\n  // ========== Додавання до localStorage ==========\n  let bookData = {};\n  const addBtn = document.querySelector('.js-add-to-list');\n\n  addBtn.addEventListener('click', addToShoppingList);\n\n  const BOOKS_STORAGE = 'books';\n\n  function isInShoppingList(bookId) {\n    let booksDataJson = localStorage.getItem(BOOKS_STORAGE);\n    if (!booksDataJson) {\n      return false;\n    }\n    let booksData = JSON.parse(booksDataJson);\n    return booksData.some(book => book._id === bookId);\n  }\n\n  function addToShoppingList() {\n    if (isInShoppingList(bookData._id)) {\n      console.log('Книга вже є у списку покупок');\n    } else {\n      let booksDataJson = localStorage.getItem(BOOKS_STORAGE);\n      let booksData = [];\n      if (booksDataJson) {\n        booksData = JSON.parse(booksDataJson);\n      }\n      booksData.push(bookData);\n      localStorage.setItem(BOOKS_STORAGE, JSON.stringify(booksData));\n      console.log('Вітаємо! Ви додали книгу до списку покупок');\n    }\n  }\n})();\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"e31Gs\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8Rppq\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kZ2io\")).toString();","import axios, { all } from 'axios';\nimport Notiflix from 'notiflix';\n\nimport { loader, showLoader, hideLoader } from './loader';\n\nconst asideList = document.querySelector('.category');\nconst homePageContainer = document.querySelector('.container-books-card');\n\nconst listStructure = `<ul class=\"categBook\"></ul>`;\nasideList.insertAdjacentHTML('beforeend', listStructure);\nconst listOfCateg = document.querySelector('.categBook');\n\nfunction getFallbackImageUrl() {\n  const screenWidth = window.innerWidth;\n\n  if (screenWidth < 768) {\n    return new URL('../images/plug-empte-book_335x485.png', import.meta.url);\n  } else if (screenWidth < 1440) {\n    return new URL('../images/plug-empte-book_218x316.png', import.meta.url);\n  } else {\n    return new URL('../images/plug-empte-book_180x256.png', import.meta.url);\n  }\n}\n\n//створюємо функцію, яка викликає запити по катекорії\nasync function getBooksByCategory(categoryName) {\n  showLoader();\n  homePageContainer.innerHTML = '';\n  let allBooksCat = document.querySelectorAll('.bookcat');\n  allBooksCat.forEach(element => {\n    if (element.classList.contains('current-page')) {\n      element.classList.remove('current-page');\n    }\n  });\n  const blabla = document.querySelector(`li[value=\"${categoryName}\"]`);\n  blabla.classList.add('current-page');\n\n  try {\n    const responseCategoty = await axios.get(\n      `https://books-backend.p.goit.global/books/category?category=${categoryName}`\n    );\n    const dataFile = responseCategoty.data;\n\n    //створюємо заголовок вибраної категорії\n    const selectedCatName = document.createElement('h2');\n    selectedCatName.classList.add('selected-category-name');\n    const words = categoryName.split(' ');\n    const lastWordOfCategory = words.pop();\n    const cuttedNameOFCategory = words.join(' ');\n    selectedCatName.innerHTML = `${cuttedNameOFCategory} <split class=\"last-word-category\">${lastWordOfCategory}</split>`;\n\n    homePageContainer.appendChild(selectedCatName);\n    //створюємо новий список\n    const newCategoryList = document.createElement('ul');\n    newCategoryList.classList.add('selected-category');\n    homePageContainer.appendChild(newCategoryList);\n    const newBookUl = document.querySelector('.selected-category');\n\n    //створюємо нові результати пошуку і заповняєм список результатів\n    dataFile.forEach(bookRes => {\n      const newBookLI = document.createElement('li');\n      newBookLI.classList.add('book-card-preview');\n      const bookFace = `<div class=\"book-preview-container\"\">\n                          <div class=\"book-image\">\n                            <img src=\"${bookRes.book_image}\" class=\"img-book\" alt=\"book-title-preview\" \n                            loading=\"lazy\" onerror=\"src='${getFallbackImageUrl()}'\" data-id=\"${bookRes._id}\">\n                          </div>\n                        <div>\n                          <h2 class=\"book-title\">${bookRes.title}</h2>\n                          <p class=\"book-author\">${bookRes.author}</p>\n                        </div></div>`;\n      newBookLI.innerHTML = bookFace;\n      newBookUl.appendChild(newBookLI);\n    });\n    hideLoader();\n  } catch (error) {\n    Notiflix.Notify.failure('Oops! Something went wrong... Please try again.');\n    hideLoader();\n  }\n}\n\nasync function getCategoryList() {\n  showLoader();\n  try {\n    const response = await axios.get(\n      'https://books-backend.p.goit.global/books/category-list'\n    );\n    const data = response.data;\n    const sortedData = data.sort((a, b) =>\n      a.list_name.localeCompare(b.list_name)\n    );\n\n    const allCategories = document.createElement('li');\n    allCategories.classList.add('bookcat', 'allBooks');\n    allCategories.classList.add('current-page');\n    allCategories.textContent = 'All categories';\n    listOfCateg.appendChild(allCategories);\n    const allCatPoint = document.querySelector('.allBooks');\n    allCatPoint.addEventListener('click', () => {\n      window.location.href = 'index.html';\n    });\n\n    // categoryList = document.querySelectorAll('.bookcat');\n    sortedData.forEach(category => {\n      //створюю елемент списку категорій\n      const newLICateg = document.createElement('li');\n      newLICateg.classList.add('bookcat');\n      newLICateg.setAttribute('value', category.list_name);\n      listOfCateg.appendChild(newLICateg);\n      newLICateg.innerHTML = category.list_name;\n\n      newLICateg.addEventListener('click', () => {\n        getBooksByCategory(category.list_name);\n      });\n    });\n  } catch (error) {\n    console.log(error);\n    hideLoader();\n  }\n}\n\nwindow.addEventListener('load', getCategoryList);\n\n//\n","const scrollUpBtn = document.querySelector('.scroll-up');\n\nscrollUpBtn.addEventListener('click', goTop);\nwindow.addEventListener('scroll', trackScroll);\n\nfunction trackScroll() {\n  const offSet = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n  if (offSet > coords) {\n    scrollUpBtn.style.display = 'block';\n  } else {\n    scrollUpBtn.style.display = 'none';\n  }\n}\n\nfunction goTop() {\n  if (window.pageYOffset > 0) {\n    window.scrollBy(0, -50);\n    setTimeout(goTop, 0);\n  }\n}\n","const header = document.querySelector('header');\nconst body = document.querySelector('body');\n\nwindow.addEventListener('scroll', function () {\n  if (window.scrollY > 0) {\n    body.style.paddingTop = `${header.offsetHeight}px`;\n    header.classList.add('fixed-header');\n  } else {\n    body.style.paddingTop = 0;\n    header.classList.remove('fixed-header');\n  }\n});\n","const mobileMenu = document.querySelector('.js-menu-container');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\n\nconst toggleMenu = () => {\n  const isMenuOpen =\n    openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n  openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n  mobileMenu.classList.toggle('is-open');\n};\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\n"],"names":["parcelRequire","register","JSON","parse","$2shzp","$bdfcdc80b4c38739$export$f4c5de44377d2946","document","querySelector","$bdfcdc80b4c38739$export$5cee2c2772922923","classList","add","$bdfcdc80b4c38739$export$56525cbb1fcd885c","remove","$b202017e37caf02b$var$booksService","BASE_URL","async","default","get","this","catch","console","error","$b202017e37caf02b$var$listTopBooks","$7b2c87b4c563e0ed$exports","URL","resolve","import","meta","url","toString","$fb102aee79cd5cdc$exports","$b202017e37caf02b$var$getFallbackImageUrl","screenWidth","window","innerWidth","$521e47f712514728$exports","categories","data","fetchTopBooks","log","$parcel$interopDefault","$7Y9D8","Notify","failure","$b202017e37caf02b$var$renderBooksCategories","markup","list_name","books","categoryMarkup","j","length","_id","book_image","title","author","innerHTML","insertAdjacentHTML","seeMoreBtns","querySelectorAll","categoriesForBtn","p","addEventListener","click","scrollTo","top","behavior","$b202017e37caf02b$var$updateBooksCategories","$5636da1feed72aa9$exports","$7ff6b471b33a9e03$exports","$6a94ba948dcf5e7d$exports","refs","openModalBtn","closeModalBtn","modal","cardModal","body","removeEventListener","logBackdropClick","cardForModal","id1","amazon_link","apple_link","bookshop_link","e","target","getAttribute","description","buy_links","id","responce","fetch","bookById","json","fetchBookById","forEach","el","name","bookData","renderMarkupModal","className","code","bookId","booksDataJson","localStorage","getItem","BOOKS_STORAGE","some","book","isInShoppingList","booksData","push","setItem","stringify","$ea48f741b5bc75f2$var$asideList","$ea48f741b5bc75f2$var$homePageContainer","$ea48f741b5bc75f2$var$listOfCateg","$ea48f741b5bc75f2$var$getBooksByCategory","categoryName","element","contains","dataFile","selectedCatName","createElement","words","split","lastWordOfCategory","pop","cuttedNameOFCategory","join","appendChild","newCategoryList","newBookUl","bookRes","newBookLI","bookFace","$ea48f741b5bc75f2$var$getFallbackImageUrl","response","sortedData","sort","a","b","localeCompare","allCategories","textContent","location","href","category","newLICateg","setAttribute","$52650fc44c8b8200$var$scrollUpBtn","$52650fc44c8b8200$var$goTop","pageYOffset","scrollBy","setTimeout","offSet","coords","documentElement","clientHeight","style","display","$a496a73e2e5d01af$var$header","$a496a73e2e5d01af$var$body","scrollY","paddingTop","offsetHeight","$63c3e220268f76eb$var$mobileMenu","$63c3e220268f76eb$var$openMenuBtn","$63c3e220268f76eb$var$closeMenuBtn","$63c3e220268f76eb$var$toggleMenu","isMenuOpen","toggle"],"version":3,"file":"index.b781e841.js.map"}