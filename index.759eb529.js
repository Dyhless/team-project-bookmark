!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a),a.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),a.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),a.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.759eb529.js","7mj2y":"plug-empte-book_335x485.3bc43583.png","jPeva":"plug-empte-book_218x316.adc93518.png","gB8wt":"plug-empte-book_180x256.b984b05b.png","1XaNB":"index.738d83c0.css","01IoP":"shopping-list.77094f1c.js"}'));var r=a("bpxeT"),c=a("2TvXO"),i=a("8MBJY"),s={};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,t){var n=l.default(e,t,"get");return d.default(e,n)};var l=u(a("1UHsN")),d=u(a("ffZzF"));function u(e){return e&&e.__esModule?e:{default:e}}var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(e,t,n){m.default(e,t),t.set(e,n)};var f,m=(f=a("5k7tO"))&&f.__esModule?f:{default:f};var v=a("a2hTj"),b=a("dIxxU"),g=new WeakMap,h=function(){"use strict";function t(){e(i)(this,t),e(p)(this,g,{writable:!0,value:"https://books-backend.p.goit.global/books/"})}return e(v)(t,[{key:"fetchTopBooks",value:function(){return b.default.get("".concat(e(s)(this,g),"/top-books")).then((function(e){return e})).catch(console.error)}}]),t}(),k=a("6JpON"),w=document.querySelector(".loader-backdrop");function y(){w.classList.add("is-hidden")}function L(){w.classList.remove("is-hidden")}var x=new h,E=document.querySelector(".top-books"),_="";function H(){return S.apply(this,arguments)}function S(){return(S=e(r)(e(c).mark((function t(){var n;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.fetchTopBooks();case 3:return n=t.sent.data,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),e(k).Notify.failure("Oops! Something went wrong... Please try again.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var T;T=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("7mj2y");var O;O=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("jPeva");var M;M=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("gB8wt");var q,j=(q=e(r)(e(c).mark((function t(){var n,o,a,r,i,s,l,d,u,p,f,m,v,b,g,h,k;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=function(){var e=window.innerWidth;return e<768?new URL(T):e<1440?new URL(O):new URL(M)},e.next=3,H();case 3:for(n=e.sent,o=5,o=window.innerWidth<768?1:window.innerWidth<1440?3:5,_="",a=0;a<n.length;a+=1){for(r=n[a],i=r.list_name,s=r.books,l='\n      <li>\n        <h3 class="name-category">'.concat(i,'</h3>\n        <ul class="list-category">\n    '),d=0;d<o&&d<s.length;d+=1)u=s[d],p=u._id,f=u.book_image,m=u.title,v=u.author,l+='\n        <li class="item-category-book js-book-modal" data-book-id="'.concat(p,'">\n          <a class="link-books" href="#">\n            <div class="card-book">\n              <div class="img-card-book">\n                <img src="').concat(f,'" alt="book" class="img-book" loading="lazy" data-id="').concat(p,'" onerror="src=\'').concat(b(),'\'"/>\n              </div>\n              <div class="bestsellers-text-wrapper">\n                <div class="title-wrap">\n                  <p class="title-book">').concat(m,'</p>\n                </div>\n                <div class="author-wrap">\n                  <p class="book-author">').concat(v,"</p>\n                </div>\n              </div>\n            </div>\n          </a>\n        </li>\n      ");_+=l+='\n        </ul>\n        <button type="button" aria-label="See more" class="see-more">See more</button>\n      </li>\n    '}if(E)for(E.innerHTML="",E.insertAdjacentHTML("beforeend",_),g=document.querySelectorAll(".see-more"),h=document.querySelectorAll(".bookcat"),k=0;k<n.length;k++)g[k].addEventListener("click",(function(){h[k+1].click(),window.scrollTo({top:0,behavior:"smooth"})}));y();case 10:case"end":return e.stop()}}),t)}))),function(){return q.apply(this,arguments)});window.addEventListener("resize",j),j(),a("32ZrB"),a("ax6eO");r=a("bpxeT"),c=a("2TvXO");!function(){var t={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),cardModal:document.querySelector(".card-modal")};t.closeModalBtn.addEventListener("click",(function(){document.body.classList.remove("modal-open"),t.modal.classList.add("is-hidden-modal-book"),document.removeEventListener("keydown",u),window.addEventListener("click",o)}));var n="";function o(e){return a.apply(this,arguments)}function a(){return(a=e(r)(e(c).mark((function t(o){var a,r,l,u,p,f;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=o.target.getAttribute("data-id"))){e.next=5;break}return e.abrupt("return");case 5:d();case 6:return console.log("это айди",n),e.next=9,s(n);case 9:a=e.sent,r=a.book_image,l=a.description,u=a.author,p=a.title,f='<img src="'.concat(r,'" alt="book" class="card-img-modal">\n<h5 class="title">').concat(p,'</h5>\n<p class="author-card-modal">').concat(u,'</p>\n<p class="text-card-modal">').concat(l,"</p>"),console.log("markup",f),i(f);case 17:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function i(e){t.cardModal.innerHTML=e}function s(e){return l.apply(this,arguments)}function l(){return(l=e(r)(e(c).mark((function t(n){var o,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://books-backend.p.goit.global/books/".concat(n));case 2:return o=e.sent,e.next=5,o.json();case 5:return a=e.sent,console.log(a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function d(){window.removeEventListener("click",o),document.body.classList.add("modal-open"),t.modal.classList.remove("is-hidden-modal-book"),document.addEventListener("keydown",u)}function u(e){"backdrop-modal-book"!==e.target.className&&"Escape"!==e.code||(t.modal.classList.add("is-hidden-modal-book"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",u),window.addEventListener("click",o))}t.modal.addEventListener("click",u),window.addEventListener("click",o)}(),a("8Veln");r=a("bpxeT"),c=a("2TvXO"),b=a("dIxxU"),k=a("6JpON");var B=document.querySelector(".category"),R=document.querySelector(".container-books-card");B.insertAdjacentHTML("beforeend",'<ul class="categBook"></ul>');var U=document.querySelector(".categBook");function N(){var e=window.innerWidth;return e<768?new URL(T):e<1440?new URL(O):new URL(M)}function A(e){return C.apply(this,arguments)}function C(){return(C=e(r)(e(c).mark((function t(n){var o,a,r,i,s,l,d,u;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(),R.innerHTML="",t.prev=2,t.next=5,b.default.get("https://books-backend.p.goit.global/books/category?category=".concat(n));case 5:o=t.sent,a=o.data,(r=document.createElement("h2")).classList.add("selected-category-name"),i=n.split(" "),s=i.pop(),l=i.join(" "),r.innerHTML="".concat(l,' <split class="last-word-category">').concat(s,"</split>"),R.appendChild(r),(d=document.createElement("ul")).classList.add("selected-category"),R.appendChild(d),u=document.querySelector(".selected-category"),a.forEach((function(e){var t=document.createElement("li");t.classList.add("book-card-preview");var n='<div class="book-preview-container""><div class="book-image">\n      <img src="'.concat(e.book_image,'" class="img-book" alt="book-title-preview" loading="lazy" onerror="src=\'').concat(N(),'\'" data-id="').concat(e._id,'">\n                        </div>\n                        <div>\n                          <h2 class="book-title">').concat(e.title,'</h2>\n                          <p class="book-author">').concat(e.author,"</p>\n                        </div></div>");t.innerHTML=n,u.appendChild(t)})),y(),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(2),e(k).Notify.failure("Oops! Something went wrong... Please try again."),y();case 26:case"end":return t.stop()}}),t,null,[[2,22]])})))).apply(this,arguments)}function P(){return(P=e(r)(e(c).mark((function t(){var n,o,a,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(),e.prev=1,e.next=4,b.default.get("https://books-backend.p.goit.global/books/category-list");case 4:n=e.sent,o=n.data,a=o.sort((function(e,t){return e.list_name.localeCompare(t.list_name)})),(r=document.createElement("li")).classList.add("bookcat"),r.classList.add("allBooks"),r.textContent="All categories",U.appendChild(r),document.querySelector(".allBooks").addEventListener("click",(function(){window.location.href="index.html"})),a.forEach((function(e){var t=document.createElement("li");t.classList.add("bookcat"),U.appendChild(t),t.innerHTML=e.list_name,t.addEventListener("click",(function(){A(e.list_name)}))})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),y();case 21:case"end":return e.stop()}}),t,null,[[1,17]])})))).apply(this,arguments)}window.addEventListener("load",(function(){return P.apply(this,arguments)}));var F=document.querySelector(".scroll-up");F.addEventListener("click",(function e(){window.pageYOffset>0&&(window.scrollBy(0,-50),setTimeout(e,0))})),window.addEventListener("scroll",(function(){var e=window.pageYOffset,t=document.documentElement.clientHeight;F.style.display=e>t?"block":"none"}));var z=document.querySelector("header"),J=document.querySelector("body");window.addEventListener("scroll",(function(){window.scrollY>0?(J.style.paddingTop="".concat(z.offsetHeight,"px"),z.classList.add("fixed-header")):(J.style.paddingTop=0,z.classList.remove("fixed-header"))})),a("9Cizd"),a("9Gy8A"),a("fhhbN"),a("2UiAG"),a("2C39u")}();
//# sourceMappingURL=index.759eb529.js.map
