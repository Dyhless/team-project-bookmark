{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@parcel/runtime-js/lib/runtime-22fe2d676a488e26.js","src/js/book-card.js","src/js/books-service.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","<<jsx-config-pragma.js>>","src/js/loader.js","node_modules/@parcel/runtime-js/lib/runtime-71a5e9dcbe235ef1.js","node_modules/@parcel/runtime-js/lib/runtime-2adc45211c9aa33b.js","node_modules/@parcel/runtime-js/lib/runtime-e385b71e404e7279.js","src/js/scroll-up.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.4829d99a.js\\\",\\\"7mj2y\\\":\\\"plug-empte-book_335x485.3bc43583.png\\\",\\\"jPeva\\\":\\\"plug-empte-book_218x316.adc93518.png\\\",\\\"gB8wt\\\":\\\"plug-empte-book_180x256.b984b05b.png\\\",\\\"1XaNB\\\":\\\"index.752550f5.css\\\",\\\"01IoP\\\":\\\"shopping-list.fb6a9500.js\\\"}\"));","import { BooksService } from './books-service';\r\nimport Notiflix from 'notiflix';\r\n\r\nimport { loader, showLoader, hideLoader } from './loader';\r\n\r\nconst booksService = new BooksService();\r\nconst listTopBooks = document.querySelector('.top-books');\r\n\r\nasync function renderBooksCategories() {\r\n  try {\r\n    const { data } = await booksService.fetchTopBooks();\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    Notiflix.Notify.failure('Oops! Something went wrong... Please try again.');\r\n  }\r\n}\r\n\r\nfunction getFallbackImageUrl() {\r\n  const screenWidth = window.innerWidth;\r\n  if (screenWidth < 768) {\r\n    return new URL('../images/plug-empte-book_335x485.png', import.meta.url);\r\n  } else if (screenWidth < 1440) {\r\n    return new URL('../images/plug-empte-book_218x316.png', import.meta.url);\r\n  } else {\r\n    return new URL('../images/plug-empte-book_180x256.png', import.meta.url);\r\n  }\r\n}\r\n\r\nasync function updateBooksCategories() {\r\n  const categories = await renderBooksCategories();\r\n\r\n  let markup = '';\r\n\r\n  for (const { list_name, books } of categories) {\r\n    let categoryMarkup = `\r\n      <li>\r\n        <h3 class=\"name-category\">${list_name}</h3>\r\n        <ul class=\"list-category\">\r\n    `;\r\n\r\n    for (let j = 0; j < books.length; j += 1) {\r\n      const { _id, book_image, title, author } = books[j];\r\n\r\n      categoryMarkup += `\r\n        <li class=\"item-category-book js-book-modal\" data-book-id=\"${_id}\">\r\n          <a class=\"link-books\" href=\"#\">\r\n            <div class=\"card-book\">\r\n              <div class=\"img-card-book\">\r\n                <img src=\"${book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${_id}\" onerror=\"src='${getFallbackImageUrl()}'\"/>\r\n              </div>\r\n              <div class=\"bestsellers-text-wrapper\">\r\n                <div class=\"title-wrap\">\r\n                  <p class=\"title-book\">${title}</p>\r\n                </div>\r\n                <div class=\"author-wrap\">\r\n                  <p class=\"book-author\">${author}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </a>\r\n        </li>\r\n      `;\r\n    }\r\n\r\n    categoryMarkup += `\r\n        </ul>\r\n        <button type=\"button\" aria-label=\"See more\" class=\"see-more\">See more</button>\r\n      </li>\r\n    `;\r\n\r\n    markup += categoryMarkup;\r\n  }\r\n\r\n  if (listTopBooks) {\r\n    listTopBooks.innerHTML = '';\r\n    listTopBooks.insertAdjacentHTML('beforeend', markup);\r\n    //     //======= Дашин код ==============\r\n    const seeMoreBtns = document.querySelectorAll('.see-more');\r\n    const categoriesForBtn = document.querySelectorAll('.bookcat');\r\n\r\n    for (let p = 0; p < categories.length; p++) {\r\n      seeMoreBtns[p].addEventListener('click', () => {\r\n        categoriesForBtn[p + 1].click();\r\n        window.scrollTo({\r\n          top: 0,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n    }\r\n    //     //======= /Дашин код ==============\r\n  }\r\n  hideLoader();\r\n}\r\n\r\nupdateBooksCategories();\r\n","import axios from 'axios';\r\n\r\nexport class BooksService {\r\n  #BASE_URL = 'https://books-backend.p.goit.global/books/';\r\n  bookID = null;\r\n\r\n  async fetchTopBooks() {\r\n    return await axios.get(`${this.#BASE_URL}/top-books`).catch(console.error);\r\n  }\r\n\r\n  async fetchBookById(id) {\r\n    try {\r\n      const response = await axios.get(`${this.#BASE_URL}/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n}\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n",null,"const loader = document.querySelector('.loader-backdrop');\r\n\r\nfunction hideLoader() {\r\n  loader.classList.add('is-hidden');\r\n}\r\n\r\nfunction showLoader() {\r\n  loader.classList.remove('is-hidden');\r\n}\r\n\r\nexport { loader, hideLoader, showLoader };\r\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"7mj2y\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"jPeva\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"gB8wt\");","const scrollUpBtn = document.querySelector('.scroll-up');\r\n\r\nscrollUpBtn.addEventListener('click', goTop);\r\nwindow.addEventListener('scroll', trackScroll);\r\n\r\nfunction trackScroll() {\r\n  const offSet = window.pageYOffset;\r\n  const coords = document.documentElement.clientHeight;\r\n  if (offSet > coords) {\r\n    scrollUpBtn.style.display = 'block';\r\n  } else {\r\n    scrollUpBtn.style.display = 'none';\r\n  }\r\n}\r\n\r\nfunction goTop() {\r\n  if (window.pageYOffset > 0) {\r\n    window.scrollBy(0, -50);\r\n    setTimeout(goTop, 0);\r\n  }\r\n}\r\n"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","parcelRequire","register","JSON","parse","$bpxeT","$37616d1d2d9e1de3$exports","$37616d1d2d9e1de3$var$_classExtractFieldDescriptor","$37616d1d2d9e1de3$var$_classApplyDescriptorGet","$37616d1d2d9e1de3$var$_interopRequireDefault","__esModule","$665bb80dc57e205a$exports","$665bb80dc57e205a$var$_checkPrivateRedeclaration","set","$2fc51cd8c0e2f03d$var$_BASE_URL","WeakMap","$2fc51cd8c0e2f03d$export$a338dfb92c663e71","BooksService","$parcel$interopDefault","this","$hKHmD","key","$2TvXO","mark","_callee","$dIxxU","concat","_this","catch","console","error","id","response","_ctx","sent","data","log","t0","message","$03da642c15b09e5e$export$f4c5de44377d2946","document","querySelector","$03da642c15b09e5e$export$5cee2c2772922923","classList","add","$57f915b00cb13ef4$var$booksService","$57f915b00cb13ef4$var$listTopBooks","$57f915b00cb13ef4$var$renderBooksCategories","$57f915b00cb13ef4$var$_renderBooksCategories","apply","arguments","fetchTopBooks","$6JpON","Notify","failure","$630d42b837812ab3$exports","getBundleURL","resolve","$be8532529eee0683$exports","$57f915b00cb13ef4$var$getFallbackImageUrl","screenWidth","window","innerWidth","URL","$078caae50bc7e32d$exports","$57f915b00cb13ef4$var$_updateBooksCategories","categories","markup","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_value","list_name","books","categoryMarkup","j","_j","_id","book_image","title","author","seeMoreBtns","categoriesForBtn","p","undefined","Symbol","iterator","next","done","length","return","innerHTML","insertAdjacentHTML","querySelectorAll","addEventListener","click","scrollTo","top","behavior","$57f915b00cb13ef4$var$updateBooksCategories","$17f8071d162f96bc$var$scrollUpBtn","$17f8071d162f96bc$var$goTop","pageYOffset","scrollBy","setTimeout","offSet","coords","documentElement","clientHeight","style","display"],"version":3,"file":"index.4829d99a.js.map"}