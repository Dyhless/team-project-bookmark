{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-27fb71a0d07089d4.js","src/js/books-service.js","src/js/loader.js","src/js/book-card.js","node_modules/@parcel/runtime-js/lib/runtime-de26a14284f3b108.js","node_modules/@parcel/runtime-js/lib/runtime-9a840c2176f1c5d5.js","node_modules/@parcel/runtime-js/lib/runtime-e58f9a3a16ec3a3b.js","src/js/modal-window.js","src/js/category.js","src/js/scroll-up.js","src/js/header-fixed-position.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.d283e38f.js\\\",\\\"lGJMy\\\":\\\"plug-empte-book_335x485.3bc43583.png\\\",\\\"3HCpm\\\":\\\"plug-empte-book_218x316.adc93518.png\\\",\\\"6MBmZ\\\":\\\"plug-empte-book_180x256.b984b05b.png\\\",\\\"1XaNB\\\":\\\"index.84796b2b.css\\\",\\\"a8cj2\\\":\\\"shopping-list.eef82f0f.js\\\"}\"));","import axios from 'axios';\n\nexport class BooksService {\n  #BASE_URL = 'https://books-backend.p.goit.global/books/';\n  fetchTopBooks() {\n    return axios\n      .get(`${this.#BASE_URL}/top-books`)\n      .then(response => response)\n      .catch(console.error);\n  }\n}\n","const loader = document.querySelector('.loader-backdrop');\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nexport { loader, hideLoader, showLoader };\n","import { BooksService } from './books-service';\nimport Notiflix from 'notiflix';\n\nimport { loader, showLoader, hideLoader } from './loader';\n\nconst booksService = new BooksService();\nconst listTopBooks = document.querySelector('.top-books');\n\nlet markup = '';\n\n// ======= Markup Best Seller ==============================\n// async function renderBooksCategories() {\n//   try {\n//     const { data } = await booksService.fetchTopBooks();\n//     return data;\n//   } catch (error) {\n//     console.log(error);\n//     Notiflix.Notify.failure('Oops! Something went wrong... Please try again.');\n//   }\n// }\n\n// (async () => {\n//   const categories = await renderBooksCategories();\n//   if (window.innerWidth < 768) {\n//     for (let i = 0; i < categories.length; i += 1) {\n//       const { list_name, books } = categories[i];\n\n//       markup += `<li>\n//     <h3 class=\"name-category\">${list_name}</h3>\n//       <ul class=\"list-category\">\n//         <li class=\"item-category-book js-book-modal\" data-book-id=\"${\n//           books[0]._id\n//         }\">\n//           <a class=\"link-books\" href=\"#\">\n//             <div class=\"card-book\">\n//               <div class=\"img-card-book\">\n//                 <img src=\"${\n//                   books[0].book_image\n//                 }\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${\n//         books[0]._id\n//       } onerror=\"src='${new URL(\n//         '../images/plug-empte-book_218x316.png',\n//         import.meta.url\n//       )}'\n//       \"/>\n//               </div>\n//               <div class=\"bestsellers-text-wrapper\">\n//                 <div class=\"title-wrap\">\n//                   <p class=\"title-book\">${books[0].title}</p>\n//                 </div>\n//                 <div class=\"author-wrap\">\n//                   <p class=\"book-author\">${books[0].author}</p>\n//                 </div>\n//               </div>\n//             </div>\n//          </a>\n//         </li>\n//     </ul>\n//         <button type=\"button\" aria-label=\"Show more\" class=\"see-more\">See more</button>\n//    </li>`;\n//     }\n//   } else if (window.screen.width >= 768 && window.screen.width < 1440) {\n//     for (let i = 0; i < categories.length; i += 1) {\n//       const { list_name, books } = categories[i];\n//       markup += `\n//     <li>\n//       <h3 class=\"name-category\">${list_name}</h3>\n//       <ul class=\"list-category\">\n//       <li class=\"item-category-book js-book-modal\" data-book-id=\"${books[0]._id}\">\n//           <a class=\"link-books\" href=\"#\">\n//             <div class=\"card-book\">\n//               <div class=\"img-card-book\">\n//                 <img src=\"${books[0].book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${books[0]._id} onerror=\"src='new URL(\n//           '../images/plug-empte-book_218x316.png',\n//            import.meta.url'\"/>\n//               </div>\n//               <div class=\"bestsellers-text-wrapper\">\n//                 <div class=\"title-wrap\">\n//                   <p class=\"title-book\">${books[0].title}</p>\n//                 </div>\n//                 <div class=\"author-wrap\">\n//                   <p class=\"book-author\">${books[0].author}</p>\n//                 </div>\n//               </div>\n//             </div>\n//          </a>\n//         </li>\n//         <li class=\"item-category-book js-book-modal\" data-book-id=\"${books[1]._id}\">\n//           <a class=\"link-books\" href=\"#\">\n//             <div class=\"card-book\">\n//               <div class=\"img-card-book\">\n//                 <img src=\"${books[1].book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${books[1]._id}/>\n//               </div>\n//               <div class=\"bestsellers-text-wrapper\">\n//                 <div class=\"title-wrap\">\n//                   <p class=\"title-book\">${books[1].title}</p>\n//                 </div>\n//                 <div class=\"author-wrap\">\n//                   <p class=\"book-author\">${books[1].author}</p>\n//                 </div>\n//               </div>\n//             </div>\n//          </a>\n//         </li>\n//         <li class=\"item-category-book js-book-modal\" data-book-id=\"${books[2]._id}\">\n//           <a class=\"link-books\" href=\"#\">\n//             <div class=\"card-book\">\n//               <div class=\"img-card-book\">\n//                 <img src=\"${books[2].book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${books[2]._id}/>\n//               </div>\n//               <div class=\"bestsellers-text-wrapper\">\n//                 <div class=\"title-wrap\">\n//                   <p class=\"title-book\">${books[2].title}</p>\n//                 </div>\n//                 <div class=\"author-wrap\">\n//                   <p class=\"book-author\">${books[2].author}</p>\n//                 </div>\n//               </div>\n//             </div>\n//          </a>\n//         </li>\n//     </ul>\n//         <button type=\"button\" aria-label=\"Show more\" class=\"see-more\">See more</button>\n//    </li>`;\n//     }\n//   } else {\n//     for (let i = 0; i < categories.length; i += 1) {\n//       const { list_name, books } = categories[i];\n//       markup += `\n//       <li>\n//         <h3 class=\"name-category\">${list_name}</h3>\n//         <ul class=\"list-category\">\n//           <li class=\"item-category-book js-book-modal\" data-book-id=\"${books[0]._id}\">\n//           <a class=\"link-books\" href=\"#\">\n//             <div class=\"card-book\">\n//               <div class=\"img-card-book\">\n//                 <img src=\"${books[0].book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${books[0]._id}/>\n//               </div>\n//               <div class=\"bestsellers-text-wrapper\">\n//                 <div class=\"title-wrap\">\n//                   <p class=\"title-book\">${books[0].title}</p>\n//                 </div>\n//                 <div class=\"author-wrap\">\n//                   <p class=\"book-author\">${books[0].author}</p>\n//                 </div>\n//               </div>\n//             </div>\n//          </a>\n//         </li>\n//         <li class=\"item-category-book js-book-modal\" data-book-id=\"${books[1]._id}\">\n//           <a class=\"link-books\" href=\"#\">\n//             <div class=\"card-book\">\n//               <div class=\"img-card-book\">\n//                 <img src=\"${books[1].book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${books[1]._id}/>\n//               </div>\n//               <div class=\"bestsellers-text-wrapper\">\n//                 <div class=\"title-wrap\">\n//                   <p class=\"title-book\">${books[1].title}</p>\n//                 </div>\n//                 <div class=\"author-wrap\">\n//                   <p class=\"book-author\">${books[1].author}</p>\n//                 </div>\n//               </div>\n//             </div>\n//          </a>\n//         </li>\n//         <li class=\"item-category-book js-book-modal\" data-book-id=\"${books[2]._id}\">\n//           <a class=\"link-books\" href=\"#\">\n//             <div class=\"card-book\">\n//               <div class=\"img-card-book\">\n//                 <img src=\"${books[2].book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${books[2]._id}/>\n//               </div>\n//               <div class=\"bestsellers-text-wrapper\">\n//                 <div class=\"title-wrap\">\n//                   <p class=\"title-book\">${books[2].title}</p>\n//                 </div>\n//                 <div class=\"author-wrap\">\n//                   <p class=\"book-author\">${books[2].author}</p>\n//                 </div>\n//               </div>\n//             </div>\n//          </a>\n//         </li>\n//         <li class=\"item-category-book js-book-modal\" data-book-id=\"${books[3]._id}\">\n//           <a class=\"link-books\" href=\"#\">\n//             <div class=\"card-book\">\n//               <div class=\"img-card-book\">\n//                 <img src=\"${books[3].book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${books[3]._id}/>\n//               </div>\n//               <div class=\"bestsellers-text-wrapper\">\n//                 <div class=\"title-wrap\">\n//                   <p class=\"title-book\">${books[3].title}</p>\n//                 </div>\n//                 <div class=\"author-wrap\">\n//                   <p class=\"book-author\">${books[3].author}</p>\n//                 </div>\n//               </div>\n//             </div>\n//          </a>\n//         </li>\n//         <li class=\"item-category-book js-book-modal\" data-book-id=\"${books[4]._id}\">\n//           <a class=\"link-books\" href=\"#\">\n//             <div class=\"card-book\">\n//               <div class=\"img-card-book\">\n//                 <img src=\"${books[4].book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${books[4]._id}/>\n//               </div>\n//               <div class=\"bestsellers-text-wrapper\">\n//                 <div class=\"title-wrap\">\n//                   <p class=\"title-book\">${books[4].title}</p>\n//                 </div>\n//                 <div class=\"author-wrap\">\n//                   <p class=\"book-author\">${books[4].author}</p>\n//                 </div>\n//               </div>\n//             </div>\n//          </a>\n//         </li>\n//     </ul>\n//         <button type=\"button\" aria-label=\"Show more\" class=\"see-more\">See more</button>\n//    </li>\n//  `;\n//     }\n//   }\n\n//   if (listTopBooks) {\n//     listTopBooks.innerHTML = '';\n//     listTopBooks.insertAdjacentHTML('beforeend', markup);\n//     // ======= Дашин код ==============\n//     const seeMoreBtns = document.querySelectorAll('.see-more');\n//     const categoriesForBtn = document.querySelectorAll('.bookcat');\n\n//     for (let p = 0; p < categories.length; p++) {\n//       seeMoreBtns[p].addEventListener('click', () => {\n//         categoriesForBtn[p + 1].click();\n//         window.scrollTo({\n//           top: 0,\n//           behavior: 'smooth',\n//         });\n//       });\n//     }\n//     //======= /Дашин код ==============\n//   }\n// })();\n\n// ======= 2 variant  =========\nasync function renderBooksCategories() {\n  try {\n    const { data } = await booksService.fetchTopBooks();\n    return data;\n  } catch (error) {\n    console.log(error);\n    Notiflix.Notify.failure('Oops! Something went wrong... Please try again.');\n  }\n}\n\nconst updateBooksCategories = async () => {\n  const categories = await renderBooksCategories();\n  let numBooksToShow = 5;\n\n  if (window.innerWidth < 768) {\n    numBooksToShow = 1;\n  } else if (window.innerWidth < 1440) {\n    numBooksToShow = 3;\n  } else {\n    numBooksToShow = 5;\n  }\n\n  markup = '';\n\n  for (let i = 0; i < categories.length; i += 1) {\n    const { list_name, books } = categories[i];\n\n    let categoryMarkup = `\n      <li>\n        <h3 class=\"name-category\">${list_name}</h3>\n        <ul class=\"list-category\">\n    `;\n\n    for (let j = 0; j < numBooksToShow && j < books.length; j += 1) {\n      const { _id, book_image, title, author } = books[j];\n\n      function getFallbackImageUrl() {\n        const screenWidth = window.innerWidth;\n\n        if (screenWidth < 768) {\n          return new URL(\n            '../images/plug-empte-book_335x485.png',\n            import.meta.url\n          );\n        } else if (screenWidth < 1440) {\n          return new URL(\n            '../images/plug-empte-book_218x316.png',\n            import.meta.url\n          );\n        } else {\n          return new URL(\n            '../images/plug-empte-book_180x256.png',\n            import.meta.url\n          );\n        }\n      }\n      categoryMarkup += `\n        <li class=\"item-category-book js-book-modal\" data-book-id=\"${_id}\">\n          <a class=\"link-books\" href=\"#\">\n            <div class=\"card-book\">\n              <div class=\"img-card-book\">\n                <img src=\"${book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${_id}\" onerror=\"src='${getFallbackImageUrl()}'\"/>\n              </div>\n              <div class=\"bestsellers-text-wrapper\">\n                <div class=\"title-wrap\">\n                  <p class=\"title-book\">${title}</p>\n                </div>\n                <div class=\"author-wrap\">\n                  <p class=\"book-author\">${author}</p>\n                </div>\n              </div>\n            </div>\n          </a>\n        </li>\n      `;\n    }\n\n    categoryMarkup += `\n        </ul>\n        <button type=\"button\" aria-label=\"See more\" class=\"see-more\">See more</button>\n      </li>\n    `;\n\n    markup += categoryMarkup;\n  }\n\n  if (listTopBooks) {\n    listTopBooks.innerHTML = '';\n    listTopBooks.insertAdjacentHTML('beforeend', markup);\n    //     //======= Дашин код ==============\n    const seeMoreBtns = document.querySelectorAll('.see-more');\n    const categoriesForBtn = document.querySelectorAll('.bookcat');\n\n    for (let p = 0; p < categories.length; p++) {\n      seeMoreBtns[p].addEventListener('click', () => {\n        categoriesForBtn[p + 1].click();\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        });\n      });\n    }\n    //     //======= /Дашин код ==============\n  }\n  hideLoader();\n};\n\nwindow.addEventListener('resize', updateBooksCategories);\n\n// Initial rendering\nupdateBooksCategories();\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lGJMy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3HCpm\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6MBmZ\")).toString();","(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-modal-open]'),\n    closeModalBtn: document.querySelector('[data-modal-close]'),\n    modal: document.querySelector('[data-modal]'),\n    cardModal: document.querySelector('.card-modal'),\n  };\n\n  // refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', closeModal);\n\n  let id = '';\n\n  refs.modal.addEventListener('click', logBackdropClick);\n  window.addEventListener('click', cardForModal);\n\n  function removeWindowEventListener() {\n    window.removeEventListener('click', cardForModal);\n  }\n\n  //   (e)=>{console.log(\"e====\",e.target);\n  // console.log(e.target.getAttribute(\"data-id\"));\n  // return id=(e.target.getAttribute(\"data-id\"));\n  // }\n\n  async function cardForModal(e) {\n    // проверка если попал на картинку\n\n    id = e.target.getAttribute('data-id');\n    if (id === null) {\n      return;\n    } else openModal();\n    console.log('это айди', id);\n    // обработка ошибки фетча?\n    const { book_image, description, author, title } = await fetchBookById(id);\n\n    const markup = `<img src=\"${book_image}\" alt=\"book\" class=\"card-img-modal\">\n<h5 class=\"title\">${title}</h5>\n<p class=\"author-card-modal\">${author}</p>\n<p class=\"text-card-modal\">${description}</p>`;\n    console.log('markup', markup);\n    renderMarkupModal(markup);\n  }\n\n  function renderMarkupModal(markup) {\n    refs.cardModal.innerHTML = markup;\n  }\n  // fetchBookById('643282b1e85766588626a0ba');\n\n  async function fetchBookById(id) {\n    const responce = await fetch(\n      `https://books-backend.p.goit.global/books/${id}`\n    );\n    const bookById = await responce.json();\n    console.log(bookById);\n    return bookById;\n  }\n\n  function openModal() {\n    //   const isModalOpen =\n    //     refs.openModalBtn.getAttribute('aria-expanded') === 'true' || false;\n    //   refs.openModalBtn.setAttribute('aria-expanded', !isModalOpen);\n    removeWindowEventListener();\n    document.body.classList.add('modal-open');\n    refs.modal.classList.remove('is-hidden-modal-book');\n    document.addEventListener('keydown', logBackdropClick);\n\n    //   const scrollLockMethod = !isModalOpen\n    //     ? 'disableBodyScroll'\n    //     : 'enableBodyScroll';\n    //   bodyScrollLock[scrollLockMethod](document.body);\n  }\n\n  function closeModal() {\n    document.body.classList.remove('modal-open');\n    refs.modal.classList.add('is-hidden-modal-book');\n    document.removeEventListener('keydown', logBackdropClick);\n    window.addEventListener('click', cardForModal);\n  }\n\n  function logBackdropClick(e) {\n    if (e.target.className === 'backdrop-modal-book' || e.code === 'Escape') {\n      refs.modal.classList.add('is-hidden-modal-book');\n      document.body.classList.remove('modal-open');\n      document.removeEventListener('keydown', logBackdropClick);\n      window.addEventListener('click', cardForModal);\n    } else return;\n  }\n})();\n","import axios, { all } from 'axios';\nimport Notiflix from 'notiflix';\n\nimport { loader, showLoader, hideLoader } from './loader';\n\n// вибираєм головний контейнер в category html\nconst asideList = document.querySelector('.category');\n// вибираєм головний контейнер в home page html\nconst homePageContainer = document.querySelector('.container-books-card');\n//вибираєм список результатів пошуку книжок по категоріям\n\nconst listStructure = `<ul class=\"categBook\"></ul>`;\n\n// додаємо ул в дів\nasideList.insertAdjacentHTML('beforeend', listStructure);\n// вибираємо ул\nconst listOfCateg = document.querySelector('.categBook');\n\nfunction getFallbackImageUrl() {\n  const screenWidth = window.innerWidth;\n\n  if (screenWidth < 768) {\n    return new URL('../images/plug-empte-book_335x485.png', import.meta.url);\n  } else if (screenWidth < 1440) {\n    return new URL('../images/plug-empte-book_218x316.png', import.meta.url);\n  } else {\n    return new URL('../images/plug-empte-book_180x256.png', import.meta.url);\n  }\n}\n\n//створюємо функцію, яка викликає запити по катекорії\nasync function getBooksByCategory(categoryName) {\n  showLoader();\n  homePageContainer.innerHTML = '';\n  try {\n    const responseCategoty = await axios.get(\n      `https://books-backend.p.goit.global/books/category?category=${categoryName}`\n    );\n    const dataFile = responseCategoty.data;\n\n    //створюємо заголовок вибраної категорії\n    const selectedCatName = document.createElement('h2');\n    selectedCatName.classList.add('selected-category-name');\n    const words = categoryName.split(' ');\n    const lastWordOfCategory = words.pop();\n    const cuttedNameOFCategory = words.join(' ');\n    selectedCatName.innerHTML = `${cuttedNameOFCategory} <split class=\"last-word-category\">${lastWordOfCategory}</split>`;\n\n    homePageContainer.appendChild(selectedCatName);\n    //створюємо новий список\n    const newCategoryList = document.createElement('ul');\n    newCategoryList.classList.add('selected-category');\n    homePageContainer.appendChild(newCategoryList);\n    const newBookUl = document.querySelector('.selected-category');\n    //створюємо нові результати пошуку і заповняєм список результатів\n    dataFile.forEach(bookRes => {\n      const newBookLI = document.createElement('li');\n      newBookLI.classList.add('book-card-preview');\n      const bookFace = `<div class=\"book-preview-container\"\"><div class=\"book-image\">\n      <img src=\"${bookRes.book_image}\" class=\"img-book\" alt=\"book-title-preview\" loading=\"lazy\" onerror=\"src='${getFallbackImageUrl()}'\" data-id=\"${bookRes._id}\">\n                        </div>\n                        <div>\n                          <h2 class=\"book-title\">${bookRes.title}</h2>\n                          <p class=\"book-author\">${bookRes.author}</p>\n                        </div></div>`;\n      newBookLI.innerHTML = bookFace;\n      newBookUl.appendChild(newBookLI);\n    });\n    hideLoader();\n  } catch (error) {\n    Notiflix.Notify.failure('Oops! Something went wrong... Please try again.');\n    hideLoader();\n  }\n}\n\n// створюємо функцію, яка буде викликати всі категорії з сервера. Результат роботи цієї функції\n// це заповнене бокове меню з вибором категорій книг і встановлений слухач на елементи списка\nasync function getCategoryList() {\n  showLoader();\n  try {\n    const response = await axios.get(\n      'https://books-backend.p.goit.global/books/category-list'\n    );\n    const data = response.data;\n    const sortedData = data.sort((a, b) =>\n      a.list_name.localeCompare(b.list_name)\n    );\n\n    const allCategories = document.createElement('li');\n    allCategories.classList.add('bookcat');\n    allCategories.classList.add('allBooks');\n    allCategories.textContent = 'All categories';\n    listOfCateg.appendChild(allCategories);\n    const allCatPoint = document.querySelector('.allBooks');\n    allCatPoint.addEventListener('click', () => {\n      window.location.href = 'index.html';\n    });\n\n    sortedData.forEach(category => {\n      //створюю елемент списку категорій\n      const newLICateg = document.createElement('li');\n      newLICateg.classList.add('bookcat');\n      listOfCateg.appendChild(newLICateg);\n      newLICateg.innerHTML = category.list_name;\n\n      newLICateg.addEventListener('click', () => {\n        //тут виправити нижче\n        getBooksByCategory(category.list_name);\n      });\n    });\n  } catch (error) {\n    console.log(error);\n    hideLoader();\n  }\n}\n\nwindow.addEventListener('load', getCategoryList);\n\n//\n","const scrollUpBtn = document.querySelector('.scroll-up');\n\nscrollUpBtn.addEventListener('click', goTop);\nwindow.addEventListener('scroll', trackScroll);\n\nfunction trackScroll() {\n  const offSet = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n  if (offSet > coords) {\n    scrollUpBtn.style.display = 'block';\n  } else {\n    scrollUpBtn.style.display = 'none';\n  }\n}\n\nfunction goTop() {\n  if (window.pageYOffset > 0) {\n    window.scrollBy(0, -50);\n    setTimeout(goTop, 0);\n  }\n}\n","const header = document.querySelector('header');\nconst body = document.querySelector('body');\n\nwindow.addEventListener('scroll', function () {\n  if (window.scrollY > 0) {\n    body.style.paddingTop = `${header.offsetHeight}px`;\n    header.classList.add('fixed-header');\n  } else {\n    body.style.paddingTop = 0;\n    header.classList.remove('fixed-header');\n  }\n});\n"],"names":["parcelRequire","register","JSON","parse","$2shzp","$bdfcdc80b4c38739$export$f4c5de44377d2946","document","querySelector","$bdfcdc80b4c38739$export$5cee2c2772922923","classList","add","$bdfcdc80b4c38739$export$56525cbb1fcd885c","remove","$b202017e37caf02b$var$booksService","BASE_URL","fetchTopBooks","default","get","this","then","response","catch","console","error","$b202017e37caf02b$var$listTopBooks","$b202017e37caf02b$var$markup","$7b2c87b4c563e0ed$exports","URL","resolve","import","meta","url","toString","$fb102aee79cd5cdc$exports","$521e47f712514728$exports","$b202017e37caf02b$var$updateBooksCategories","async","categories","data","log","$parcel$interopDefault","$7Y9D8","Notify","failure","$b202017e37caf02b$var$renderBooksCategories","numBooksToShow","window","innerWidth","i","length","list_name","books","categoryMarkup","j","_id","book_image","title","author","getFallbackImageUrl","screenWidth","innerHTML","insertAdjacentHTML","seeMoreBtns","querySelectorAll","categoriesForBtn","p","addEventListener","click","scrollTo","top","behavior","refs","openModalBtn","closeModalBtn","modal","cardModal","body","removeEventListener","logBackdropClick","cardForModal","id1","e","target","getAttribute","description","id","responce","fetch","bookById","json","fetchBookById","markup","renderMarkupModal","className","code","$ea48f741b5bc75f2$var$asideList","$ea48f741b5bc75f2$var$homePageContainer","$ea48f741b5bc75f2$var$listOfCateg","$ea48f741b5bc75f2$var$getBooksByCategory","categoryName","dataFile","selectedCatName","createElement","words","split","lastWordOfCategory","pop","cuttedNameOFCategory","join","appendChild","newCategoryList","newBookUl","forEach","bookRes","newBookLI","bookFace","$ea48f741b5bc75f2$var$getFallbackImageUrl","sortedData","sort","a","b","localeCompare","allCategories","textContent","location","href","category","newLICateg","$52650fc44c8b8200$var$scrollUpBtn","$52650fc44c8b8200$var$goTop","pageYOffset","scrollBy","setTimeout","offSet","coords","documentElement","clientHeight","style","display","$a496a73e2e5d01af$var$header","$a496a73e2e5d01af$var$body","scrollY","paddingTop","offsetHeight"],"version":3,"file":"index.d283e38f.js.map"}