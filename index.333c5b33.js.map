{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,sVCAzD,IAAAC,EAAAJ,EAAA,S,iBCAA,MAAMK,EAASC,SAASC,cAAc,oBCKtC,MAAMC,EAAe,IFHd,MACLC,GAAY,6CACZC,OAAS,KAETC,sBACE,aAAaP,EAAAQ,QAAMC,IAAI,GAAGC,MAAKL,eAAuBM,MAAMC,QAAQC,M,CAGtEN,oBAAoBO,GAClB,IAEE,aADuBd,EAAAQ,QAAMC,IAAI,GAAGC,MAAKL,KAAaS,MACtCC,I,CAChB,MAAOF,GACPD,QAAQI,IAAIH,EAAMI,Q,IETlBC,EAAehB,SAASC,cAAc,c,MCN5CgB,EAAiB,IAAAC,IAAoBxB,EAAA,SAAAyB,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FC,EAAiB,IAAAN,IAAoBxB,EAAA,SAAAyB,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MFkB5F,SAASE,IACP,MAAMC,EAAcC,OAAOC,WAC3B,OAAIF,EAAc,IAChB,IAAAR,IAAAD,GACSS,EAAc,KACvB,IAAAR,IAAAM,GAEA,IAAAN,IAAAW,E,CGzBJA,EAAiB,IAAAX,IAAoBxB,EAAA,SAAAyB,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WH6B5FlB,iBACE,MAAMyB,QAtBRzB,iBACE,IACE,MAAMQ,KAAEA,SAAeX,EAAa6B,gBACpC,OAAOlB,C,CACP,MAAOF,GACPD,QAAQI,IAAIH,GACZqB,EAAAC,GAASC,OAAOC,QAAQ,kD,EAgBDC,GAEzB,IAAIC,EAAS,GAEb,IAAK,MAAMC,UAAEA,EAASC,MAAEA,KAAWT,EAAY,CAC7C,IAAIU,EAAiB,mDAORF,mDAuBb,QAAAG,EAAA,EAAcA,EAAKF,EAAAG,OAAAD,GAAA,GAMnB,MAAUE,MAAAC,WAAeA,EAAAC,QAAAC,UAAAP,EAAAE,GAC1BD,GAAA,wEAEiBG,6JAIIC,0DAAuCD,oBAAAlB,0KAMvCoB,sHAGbC,gH,kZDpFT/C,EAAOgD,UAAUC,IAAI,Y,0BKHvB,MAAMC,EAAcjD,SAASC,cAAc,cAE3CgD,EAAYC,iBAAiB,SAa7B,SAASC,IACHxB,OAAOyB,YAAc,IACvBzB,OAAO0B,SAAS,GAAG,IACnBC,WAAWH,EAAO,G,IAftBxB,OAAOuB,iBAAiB,UAExB,WACE,MAAMK,EAAS5B,OAAOyB,YAChBI,EAASxD,SAASyD,gBAAgBC,aAEtCT,EAAYU,MAAMC,QADhBL,EAASC,EACiB,QAEA,M","sources":["node_modules/@parcel/runtime-js/lib/runtime-27fb71a0d07089d4.js","src/js/books-service.js","src/js/loader.js","src/js/book-card.js","node_modules/@parcel/runtime-js/lib/runtime-de26a14284f3b108.js","node_modules/@parcel/runtime-js/lib/runtime-9a840c2176f1c5d5.js","node_modules/@parcel/runtime-js/lib/runtime-e58f9a3a16ec3a3b.js","src/js/scroll-up.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.333c5b33.js\\\",\\\"lGJMy\\\":\\\"plug-empte-book_335x485.3bc43583.png\\\",\\\"3HCpm\\\":\\\"plug-empte-book_218x316.adc93518.png\\\",\\\"6MBmZ\\\":\\\"plug-empte-book_180x256.b984b05b.png\\\",\\\"1XaNB\\\":\\\"index.752550f5.css\\\",\\\"a8cj2\\\":\\\"shopping-list.c301e877.js\\\"}\"));","import axios from 'axios';\r\n\r\nexport class BooksService {\r\n  #BASE_URL = 'https://books-backend.p.goit.global/books/';\r\n  bookID = null;\r\n\r\n  async fetchTopBooks() {\r\n    return await axios.get(`${this.#BASE_URL}/top-books`).catch(console.error);\r\n  }\r\n\r\n  async fetchBookById(id) {\r\n    try {\r\n      const response = await axios.get(`${this.#BASE_URL}/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n}\r\n","const loader = document.querySelector('.loader-backdrop');\r\n\r\nfunction hideLoader() {\r\n  loader.classList.add('is-hidden');\r\n}\r\n\r\nfunction showLoader() {\r\n  loader.classList.remove('is-hidden');\r\n}\r\n\r\nexport { loader, hideLoader, showLoader };\r\n","import { BooksService } from './books-service';\r\nimport Notiflix from 'notiflix';\r\n\r\nimport { loader, showLoader, hideLoader } from './loader';\r\n\r\nconst booksService = new BooksService();\r\nconst listTopBooks = document.querySelector('.top-books');\r\n\r\nasync function renderBooksCategories() {\r\n  try {\r\n    const { data } = await booksService.fetchTopBooks();\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    Notiflix.Notify.failure('Oops! Something went wrong... Please try again.');\r\n  }\r\n}\r\n\r\nfunction getFallbackImageUrl() {\r\n  const screenWidth = window.innerWidth;\r\n  if (screenWidth < 768) {\r\n    return new URL('../images/plug-empte-book_335x485.png', import.meta.url);\r\n  } else if (screenWidth < 1440) {\r\n    return new URL('../images/plug-empte-book_218x316.png', import.meta.url);\r\n  } else {\r\n    return new URL('../images/plug-empte-book_180x256.png', import.meta.url);\r\n  }\r\n}\r\n\r\nasync function updateBooksCategories() {\r\n  const categories = await renderBooksCategories();\r\n\r\n  let markup = '';\r\n\r\n  for (const { list_name, books } of categories) {\r\n    let categoryMarkup = `\r\n      <li>\r\n        <h3 class=\"name-category\">${list_name}</h3>\r\n        <ul class=\"list-category\">\r\n    `;\r\n\r\n    for (let j = 0; j < books.length; j += 1) {\r\n      const { _id, book_image, title, author } = books[j];\r\n\r\n      categoryMarkup += `\r\n        <li class=\"item-category-book js-book-modal\" data-book-id=\"${_id}\">\r\n          <a class=\"link-books\" href=\"#\">\r\n            <div class=\"card-book\">\r\n              <div class=\"img-card-book\">\r\n                <img src=\"${book_image}\" alt=\"book\" class=\"img-book\" loading=\"lazy\" data-id=\"${_id}\" onerror=\"src='${getFallbackImageUrl()}'\"/>\r\n              </div>\r\n              <div class=\"bestsellers-text-wrapper\">\r\n                <div class=\"title-wrap\">\r\n                  <p class=\"title-book\">${title}</p>\r\n                </div>\r\n                <div class=\"author-wrap\">\r\n                  <p class=\"book-author\">${author}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </a>\r\n        </li>\r\n      `;\r\n    }\r\n\r\n    categoryMarkup += `\r\n        </ul>\r\n        <button type=\"button\" aria-label=\"See more\" class=\"see-more\">See more</button>\r\n      </li>\r\n    `;\r\n\r\n    markup += categoryMarkup;\r\n  }\r\n\r\n  if (listTopBooks) {\r\n    listTopBooks.innerHTML = '';\r\n    listTopBooks.insertAdjacentHTML('beforeend', markup);\r\n    //     //======= Дашин код ==============\r\n    const seeMoreBtns = document.querySelectorAll('.see-more');\r\n    const categoriesForBtn = document.querySelectorAll('.bookcat');\r\n\r\n    for (let p = 0; p < categories.length; p++) {\r\n      seeMoreBtns[p].addEventListener('click', () => {\r\n        categoriesForBtn[p + 1].click();\r\n        window.scrollTo({\r\n          top: 0,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n    }\r\n    //     //======= /Дашин код ==============\r\n  }\r\n  hideLoader();\r\n}\r\n\r\nupdateBooksCategories();\r\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lGJMy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3HCpm\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6MBmZ\")).toString();","const scrollUpBtn = document.querySelector('.scroll-up');\r\n\r\nscrollUpBtn.addEventListener('click', goTop);\r\nwindow.addEventListener('scroll', trackScroll);\r\n\r\nfunction trackScroll() {\r\n  const offSet = window.pageYOffset;\r\n  const coords = document.documentElement.clientHeight;\r\n  if (offSet > coords) {\r\n    scrollUpBtn.style.display = 'block';\r\n  } else {\r\n    scrollUpBtn.style.display = 'none';\r\n  }\r\n}\r\n\r\nfunction goTop() {\r\n  if (window.pageYOffset > 0) {\r\n    window.scrollBy(0, -50);\r\n    setTimeout(goTop, 0);\r\n  }\r\n}\r\n"],"names":["parcelRequire","register","JSON","parse","$2shzp","$bdfcdc80b4c38739$export$f4c5de44377d2946","document","querySelector","$b202017e37caf02b$var$booksService","BASE_URL","bookID","async","default","get","this","catch","console","error","id","data","log","message","$b202017e37caf02b$var$listTopBooks","$7b2c87b4c563e0ed$exports","URL","resolve","import","meta","url","toString","$fb102aee79cd5cdc$exports","$b202017e37caf02b$var$getFallbackImageUrl","screenWidth","window","innerWidth","$521e47f712514728$exports","categories","fetchTopBooks","$parcel$interopDefault","$7Y9D8","Notify","failure","$b202017e37caf02b$var$renderBooksCategories","markup","list_name","books","categoryMarkup","j","length","_id","book_image","title","author","classList","add","$52650fc44c8b8200$var$scrollUpBtn","addEventListener","$52650fc44c8b8200$var$goTop","pageYOffset","scrollBy","setTimeout","offSet","coords","documentElement","clientHeight","style","display"],"version":3,"file":"index.333c5b33.js.map"}